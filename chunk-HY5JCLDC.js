import{a as j,b as q,e as B,g as D,h as K,i as L,j as $,k as A,l as J}from"./chunk-KPLNO6F2.js";import{i as T,j as V,k as F,l as I,m as Q}from"./chunk-K4DI4DFQ.js";import{$a as E,Ga as P,Ia as p,Ka as n,La as o,Na as M,Oa as f,Pa as S,Ua as m,Va as b,Z as x,Za as r,_a as v,ca as u,da as _,fb as R,hb as C,ib as N,jb as h,kb as O,ta as w,ya as s,za as k}from"./chunk-GJUWZRP7.js";var z=l=>({"d-none":l}),y=l=>[l,"IDR","symbol","1.0","id-ID"];function G(l,c){if(l&1){let g=S();M(0),n(1,"div",11),m("keydown",function(t){u(g);let i=b();return _(i.onKey(t))}),n(2,"div")(3,"input",12),m("ngModelChange",function(t){let a=u(g).$implicit;return _(a.qty=t)}),o()(),n(4,"div")(5,"select",13),m("ngModelChange",function(t){let a=u(g).$implicit;return _(a.operator=t)}),n(6,"option",14),r(7,"="),o(),n(8,"option",15),r(9,"+"),o(),n(10,"option",16),r(11,"-"),o(),n(12,"option",17),r(13,"x"),o(),n(14,"option",18),r(15,"/"),o()()(),n(16,"div")(17,"input",19),m("ngModelChange",function(t){let a=u(g).$implicit;return _(a.price=t)}),o()(),n(18,"div",20)(19,"div"),r(20),h(21,"currency"),o()()(),f()}if(l&2){let g=c.$implicit,e=c.index,t=b();s(),p("id",e),s(2),p("ngModel",g.qty),s(2),p("ngModel",g.operator),s(12),p("ngClass",C(12,z,g.operator=="="))("ngModel",g.price),s(3),v(O(21,6,C(14,y,t.sumRow(g))))}}function H(l,c){l&1&&(M(0),n(1,"div"),r(2,"Kembalian"),o(),f())}function U(l,c){l&1&&(M(0),n(1,"div"),r(2,"Kekurangan"),o(),f())}var W=(l,c)=>({"bg-success":l,"bg-danger":c}),ne=(()=>{let c=class c{constructor(e){this.el=e,this.filename="data_calc",this.rows=[],this.cash=null,this.doc=this.el.nativeElement}ngOnInit(){this.rows=this.loadLocal(),this.reset()}onKey(e){let t=e.code.toLowerCase(),a=e.target.parentElement?.parentElement;t=="enter"&&(this.newRow(),setTimeout(()=>{a?.nextElementSibling?.querySelector("input")?.focus()},50))}newRow(){if(this.rows.length>0&&this.sumRow(this.rows[this.rows.length-1])==0)return;let e={qty:null,price:null,operator:"="};this.rows.push(e)}sumRow(e){let t=e.qty==null?0:e.qty,i=e.price==null?0:e.price,a=e.operator,d=0;return a=="="?d=t:a=="+"?d=t+i:a=="-"?d=t-i:a=="*"?d=t*i:a=="/"&&(d=t/i),isNaN(Number(d))?0:Number(d)*1e3}sumTotal(){let e=0;return this.rows.forEach(t=>e+=this.sumRow(t)),e}getReturn(){let e=this.cash-this.sumTotal();return isNaN(e)?0:e}reset(){this.newRow(),this.cash=null}loadLocal(){let e=[],t=localStorage.getItem(this.filename);return t!=null&&(e=JSON.parse(t)),e}saveLocal(){let e=JSON.stringify(this.rows);localStorage.setItem(this.filename,e)}tracker(e,t){return t}};c.\u0275fac=function(t){return new(t||c)(k(w))},c.\u0275cmp=x({type:c,selectors:[["app-quick"]],standalone:!0,features:[R],decls:29,vars:27,consts:[[1,"container"],[1,"d-grid","justify-content-center"],[1,"fw-bolder","my-grid","title"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky-bottom","p-2","border-3","border-top","w-fill"],[1,"d-flex","justify-content-between","fw-bolder"],[1,"p-2","d-flex","justify-content-between","flex-row","align-items-baseline"],["for","cash",1,"w-100"],["id","cash","type","number","min","0","step","500","placeholder","uang cash",1,"text-end",3,"ngModel","ngModelChange"],[1,"p-2","d-flex","justify-content-between","fw-bolder","text-light",3,"ngClass"],[4,"ngIf"],[1,"my-grid",3,"id","keydown"],["type","number","min","0","placeholder","var 1","title","var 1",3,"ngModel","ngModelChange"],["title","jenis",3,"ngModel","ngModelChange"],["value","="],["value","+"],["value","-"],["value","*"],["value","/"],["min","0","type","number","placeholder","var 2","title","var 2",3,"ngClass","ngModel","ngModelChange"],[1,"fw-bolder"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),r(4,"a"),o(),n(5,"div"),r(6,"?"),o(),n(7,"div"),r(8,"b"),o(),n(9,"div"),r(10,"= Jumlah"),o()(),P(11,G,22,16,"ng-container",3),n(12,"div",4)(13,"div",5)(14,"div"),r(15,"Total"),o(),n(16,"div"),r(17),h(18,"currency"),o()()(),n(19,"div",6)(20,"label",7),r(21,"Cash"),o(),n(22,"input",8),m("ngModelChange",function(d){return i.cash=d}),o()(),n(23,"div",9),P(24,H,3,0,"ng-container",10)(25,U,3,0,"ng-container",10),n(26,"div"),r(27),h(28,"currency"),o()()()()),t&2&&(s(11),p("ngForOf",i.rows)("ngForTrackBy",i.tracker),s(6),E(" ",O(18,8,C(20,y,i.sumTotal()))," "),s(5),p("ngModel",i.cash),s(),p("ngClass",N(22,W,i.getReturn()>0,i.getReturn()<0)),s(),p("ngIf",i.getReturn()>0),s(),p("ngIf",i.getReturn()<0),s(2),v(O(28,14,C(25,y,i.getReturn()))))},dependencies:[Q,T,V,F,I,J,L,$,j,D,K,q,A,B],styles:["html[_ngcontent-%COMP%]{overflow:hidden;max-width:100vw;max-height:100vh}body[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:system-ui}div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{-webkit-user-select:none}.h-fill[_ngcontent-%COMP%]{height:-webkit-fill-available!important}.w-fill[_ngcontent-%COMP%]{width:-webkit-fill-available!important}*[_ngcontent-%COMP%]:has( > input[_ngcontent-%COMP%]:focus)   label[_ngcontent-%COMP%]{font-weight:bolder}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{transition:all .2s ease-in-out}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 1 auto;padding:.5rem;border:0;border-bottom:1px solid silver;background-color:#fff;color:#000}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-style:italic}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{transition:all 1s ease;outline:1px solid silver;animation:_ngcontent-%COMP%_bg-blink 1.5s ease infinite}@keyframes _ngcontent-%COMP%_bg-blink{0%{outline-color:#0000}50%{outline-color:silver}to{outline-color:#0000}}button[_ngcontent-%COMP%]{padding:.5rem;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]{background-color:#7a858d}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#000;color:#fff}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-webkit-fill-available;padding:.5rem;text-align:center;cursor:pointer;-webkit-user-select:auto;border:1px solid silver;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{padding:.5rem;text-decoration:none;border-inline:1px solid gainsboro}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#dcdcdc}a[_ngcontent-%COMP%]:active, a.active[_ngcontent-%COMP%]{color:#fff;background-color:#000}.is-negative[_ngcontent-%COMP%]{color:#dc143c}.is-positive[_ngcontent-%COMP%]{color:green}.title[_ngcontent-%COMP%]{border-bottom:1px solid silver;text-align:center}*[_ngcontent-%COMP%]:has(input, select)[_ngcontent-%COMP%]{margin-bottom:0}.my-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 70px 100px 200px;align-items:baseline;width:fit-content}.my-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:has(input, select)[_ngcontent-%COMP%]{margin-bottom:0}.my-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem}.my-grid[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{text-align:end}"]});let l=c;return l})();export{ne as QuickComponent};
