import{a as B,b as D,e as K,g as L,h as $,i as A,j as J,k as z,l as G}from"./chunk-LXT4L7Q7.js";import{i as Q,j as F,k as I,l as j,m as q}from"./chunk-JWCRPYSG.js";import{Ea as P,Ga as s,Ia as t,Ja as o,La as M,Ma as h,Na as R,Sa as d,Ta as v,X as k,Xa as r,Ya as w,Za as N,aa as m,ba as u,db as T,fb as _,gb as V,hb as f,ib as O,ra as S,wa as l,xa as E}from"./chunk-ZG67FXWA.js";var H=e=>({"d-none":e}),y=e=>[e,"IDR","symbol","1.0","id-ID"];function U(e,i){if(e&1){let n=R();M(0),t(1,"div",11),d("keydown",function(c){m(n);let C=v();return u(C.onKey(c))}),t(2,"div")(3,"input",12),d("ngModelChange",function(c){let p=m(n).$implicit;return u(p.qty=c)}),o()(),t(4,"div")(5,"select",13),d("ngModelChange",function(c){let p=m(n).$implicit;return u(p.operator=c)}),t(6,"option",14),r(7,"="),o(),t(8,"option",15),r(9,"+"),o(),t(10,"option",16),r(11,"-"),o(),t(12,"option",17),r(13,"x"),o(),t(14,"option",18),r(15,"/"),o()()(),t(16,"div")(17,"input",19),d("ngModelChange",function(c){let p=m(n).$implicit;return u(p.price=c)}),o()(),t(18,"div",20)(19,"div"),r(20),f(21,"currency"),o()()(),h()}if(e&2){let n=i.$implicit,g=i.index,c=v();l(),s("id",g),l(2),s("ngModel",n.qty),l(2),s("ngModel",n.operator),l(12),s("ngClass",_(12,H,n.operator=="="))("ngModel",n.price),l(3),w(O(21,6,_(14,y,c.sumRow(n))))}}function W(e,i){e&1&&(M(0),t(1,"div"),r(2,"Kembalian"),o(),h())}function X(e,i){e&1&&(M(0),t(1,"div"),r(2,"Kekurangan"),o(),h())}var Y=(e,i)=>({"bg-success":e,"bg-danger":i}),le=(()=>{let _QuickComponent=class _QuickComponent{constructor(e){this.el=e,this.filename="data_calc",this.rows=[],this.cash=null,this.doc=this.el.nativeElement}ngOnInit(){this.rows=this.loadLocal(),this.reset()}onKey(e){let i=e.code.toLowerCase(),g=e.target.parentElement?.parentElement;i=="enter"&&(this.newRow(),setTimeout(()=>{g?.nextElementSibling?.querySelector("input")?.focus()},50))}newRow(){if(this.rows.length>0&&this.sumRow(this.rows[this.rows.length-1])==0)return;let e={qty:null,price:null,operator:"="};this.rows.push(e)}sumRow(row){let a=row.qty==null?0:row.qty,b=row.price==null?0:row.price,x=row.operator;row.operator=="="&&(x="+",b=0);let calc=eval(a+x+b);return isNaN(Number(calc))?0:Number(calc)*1e3}sumTotal(){let e=0;return this.rows.forEach(i=>e+=this.sumRow(i)),e}getReturn(){let e=this.cash-this.sumTotal();return isNaN(e)?0:e}reset(){this.newRow(),this.cash=null}loadLocal(){let e=[],i=localStorage.getItem(this.filename);return i!=null&&(e=JSON.parse(i)),e}saveLocal(){let e=JSON.stringify(this.rows);localStorage.setItem(this.filename,e)}tracker(e,i){return i}};_QuickComponent.\u0275fac=function(i){return new(i||_QuickComponent)(E(S))},_QuickComponent.\u0275cmp=k({type:_QuickComponent,selectors:[["app-quick"]],standalone:!0,features:[T],decls:29,vars:27,consts:[[1,"container"],[1,"d-grid","justify-content-center"],[1,"fw-bolder","my-grid","title"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky-bottom","p-2","border-3","border-top","w-fill"],[1,"d-flex","justify-content-between","fw-bolder"],[1,"p-2","d-flex","justify-content-between","flex-row","align-items-baseline"],["for","cash",1,"w-100"],["id","cash","type","number","min","0","step","500","placeholder","uang cash",1,"text-end",3,"ngModel","ngModelChange"],[1,"p-2","d-flex","justify-content-between","fw-bolder","text-light",3,"ngClass"],[4,"ngIf"],[1,"my-grid",3,"id","keydown"],["type","number","min","0","placeholder","var 1","title","var 1",3,"ngModel","ngModelChange"],["title","jenis",3,"ngModel","ngModelChange"],["value","="],["value","+"],["value","-"],["value","*"],["value","/"],["min","0","type","number","placeholder","var 2","title","var 2",3,"ngClass","ngModel","ngModelChange"],[1,"fw-bolder"]],template:function(i,n){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),r(4,"a"),o(),t(5,"div"),r(6,"?"),o(),t(7,"div"),r(8,"b"),o(),t(9,"div"),r(10,"= Jumlah"),o()(),P(11,U,22,16,"ng-container",3),t(12,"div",4)(13,"div",5)(14,"div"),r(15,"Total"),o(),t(16,"div"),r(17),f(18,"currency"),o()()(),t(19,"div",6)(20,"label",7),r(21,"Cash"),o(),t(22,"input",8),d("ngModelChange",function(c){return n.cash=c}),o()(),t(23,"div",9),P(24,W,3,0,"ng-container",10)(25,X,3,0,"ng-container",10),t(26,"div"),r(27),f(28,"currency"),o()()()()),i&2&&(l(11),s("ngForOf",n.rows)("ngForTrackBy",n.tracker),l(6),N(" ",O(18,8,_(20,y,n.sumTotal()))," "),l(5),s("ngModel",n.cash),l(),s("ngClass",V(22,Y,n.getReturn()>0,n.getReturn()<0)),l(),s("ngIf",n.getReturn()>0),l(),s("ngIf",n.getReturn()<0),l(2),w(O(28,14,_(25,y,n.getReturn()))))},dependencies:[q,Q,F,I,j,G,A,J,B,L,$,D,z,K],styles:["html[_ngcontent-%COMP%]{overflow:hidden;max-width:100vw;max-height:100vh}body[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:system-ui}div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{-webkit-user-select:none}.h-fill[_ngcontent-%COMP%]{height:-webkit-fill-available!important}.w-fill[_ngcontent-%COMP%]{width:-webkit-fill-available!important}*[_ngcontent-%COMP%]:has( > input[_ngcontent-%COMP%]:focus)   label[_ngcontent-%COMP%]{font-weight:bolder}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{transition:all .2s ease-in-out}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 1 auto;padding:.5rem;border:0;border-bottom:1px solid silver;background-color:#fff;color:#000}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-style:italic}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{transition:all 1s ease;outline:1px solid silver;animation:_ngcontent-%COMP%_bg-blink 1.5s ease infinite}@keyframes _ngcontent-%COMP%_bg-blink{0%{outline-color:#0000}50%{outline-color:silver}to{outline-color:#0000}}button[_ngcontent-%COMP%]{padding:.5rem;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]{background-color:#7a858d}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#000;color:#fff}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-webkit-fill-available;padding:.5rem;text-align:center;cursor:pointer;-webkit-user-select:auto;border:1px solid silver;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{padding:.5rem;text-decoration:none;border-inline:1px solid gainsboro}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#dcdcdc}a[_ngcontent-%COMP%]:active, a.active[_ngcontent-%COMP%]{color:#fff;background-color:#000}.is-negative[_ngcontent-%COMP%]{color:#dc143c}.is-positive[_ngcontent-%COMP%]{color:green}.title[_ngcontent-%COMP%]{border-bottom:1px solid silver;text-align:center}*[_ngcontent-%COMP%]:has(input, select)[_ngcontent-%COMP%]{margin-bottom:0}.my-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 70px 100px 200px;align-items:baseline;width:fit-content}.my-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:has(input, select)[_ngcontent-%COMP%]{margin-bottom:0}.my-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem}.my-grid[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{text-align:end}"]});let QuickComponent=_QuickComponent;return QuickComponent})();export{le as QuickComponent};
