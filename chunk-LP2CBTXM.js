import{a as j,b as q,e as B,g as D,h as K,i as L,j as $,k as A,l as J}from"./chunk-KPLNO6F2.js";import{i as T,j as V,k as F,l as I,m as Q}from"./chunk-K4DI4DFQ.js";import{$a as E,Ga as P,Ia as d,Ka as i,La as o,Na as M,Oa as h,Pa as S,Ua as u,Va as b,Z as w,Za as c,_a as v,ca as m,da as _,fb as R,hb as C,ib as N,jb as f,kb as O,ta as x,ya as a,za as k}from"./chunk-GJUWZRP7.js";var z=r=>({"d-none":r}),y=r=>[r,"IDR","symbol","1.0","id-ID"];function G(r,s){if(r&1){let g=S();M(0),i(1,"div",10),u("keydown",function(t){m(g);let n=b();return _(n.onKey(t))}),i(2,"div",11)(3,"input",12),u("ngModelChange",function(t){let l=m(g).$implicit;return _(l.qty=t)}),o()(),i(4,"div",11)(5,"select",13),u("ngModelChange",function(t){let l=m(g).$implicit;return _(l.operator=t)}),i(6,"option",14),c(7,"="),o(),i(8,"option",15),c(9,"+"),o(),i(10,"option",16),c(11,"-"),o(),i(12,"option",17),c(13,"x"),o(),i(14,"option",18),c(15,"/"),o()()(),i(16,"div",11)(17,"input",19),u("ngModelChange",function(t){let l=m(g).$implicit;return _(l.price=t)}),o()(),i(18,"div",20),c(19,"="),o(),i(20,"div",21)(21,"div"),c(22),f(23,"currency"),o()()(),h()}if(r&2){let g=s.$implicit,e=s.index,t=b();a(),d("id",e),a(2),d("ngModel",g.qty),a(2),d("ngModel",g.operator),a(12),d("ngClass",C(13,z,g.operator=="="))("ngModel",g.price),a(),d("hidden",g.operator=="="),a(4),v(O(23,7,C(15,y,t.sumRow(g))))}}function H(r,s){r&1&&(M(0),i(1,"div"),c(2,"Kembalian"),o(),h())}function U(r,s){r&1&&(M(0),i(1,"div"),c(2,"Kekurangan"),o(),h())}var W=(r,s)=>({"bg-success":r,"bg-danger":s}),ne=(()=>{let s=class s{constructor(e){this.el=e,this.filename="data_calc",this.rows=[],this.cash=null,this.doc=this.el.nativeElement}ngOnInit(){this.rows=this.loadLocal(),this.reset()}onKey(e){let t=e.code.toLowerCase(),l=e.target.parentElement?.parentElement;t.includes("enter")&&(this.newRow(),setTimeout(()=>{l?.nextElementSibling?.querySelector("input")?.focus()},50))}newRow(){if(this.rows.length>0&&this.sumRow(this.rows[this.rows.length-1])==0)return;let e={qty:null,price:null,operator:"="};this.rows.push(e)}sumRow(e){let t=e.qty==null?0:e.qty,n=e.price==null?0:e.price,l=e.operator,p=0;return l=="="?p=t:l=="+"?p=t+n:l=="-"?p=t-n:l=="*"?p=t*n:l=="/"&&(p=t/n),isNaN(Number(p))?0:Number(p)*1e3}sumTotal(){let e=0;return this.rows.forEach(t=>e+=this.sumRow(t)),e}getReturn(){let e=this.cash-this.sumTotal();return isNaN(e)?0:e}reset(){this.newRow(),this.cash=null}loadLocal(){let e=[],t=localStorage.getItem(this.filename);return t!=null&&(e=JSON.parse(t)),e}saveLocal(){let e=JSON.stringify(this.rows);localStorage.setItem(this.filename,e)}tracker(e,t){return t}};s.\u0275fac=function(t){return new(t||s)(k(x))},s.\u0275cmp=w({type:s,selectors:[["app-quick"]],standalone:!0,features:[R],decls:20,vars:27,consts:[[1,"container"],[1,"d-grid","justify-content-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky-bottom","p-2","border-3","border-top","w-fill"],[1,"d-flex","justify-content-between","fw-bolder"],[1,"p-2","d-flex","justify-content-between","flex-row","align-items-baseline"],["for","cash",1,"w-100"],["id","cash","type","number","min","0","step","500","placeholder","uang cash",1,"text-end",3,"ngModel","ngModelChange"],[1,"p-2","d-flex","justify-content-between","fw-bolder","text-light",3,"ngClass"],[4,"ngIf"],[1,"my-grid","row","text-nowrap",3,"id","keydown"],[1,"col"],["type","number","min","0","placeholder","var 1","title","var 1",3,"ngModel","ngModelChange"],["title","jenis",3,"ngModel","ngModelChange"],["value","="],["value","+"],["value","-"],["value","*"],["value","/"],["min","0","type","number","placeholder","var 2","title","var 2",3,"ngClass","ngModel","ngModelChange"],[1,"col-auto",3,"hidden"],[1,"col","fw-bolder"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1),P(2,G,24,17,"ng-container",2),i(3,"div",3)(4,"div",4)(5,"div"),c(6,"Total"),o(),i(7,"div"),c(8),f(9,"currency"),o()()(),i(10,"div",5)(11,"label",6),c(12,"Cash"),o(),i(13,"input",7),u("ngModelChange",function(p){return n.cash=p}),o()(),i(14,"div",8),P(15,H,3,0,"ng-container",9)(16,U,3,0,"ng-container",9),i(17,"div"),c(18),f(19,"currency"),o()()()()),t&2&&(a(2),d("ngForOf",n.rows)("ngForTrackBy",n.tracker),a(6),E(" ",O(9,8,C(20,y,n.sumTotal()))," "),a(5),d("ngModel",n.cash),a(),d("ngClass",N(22,W,n.getReturn()>0,n.getReturn()<0)),a(),d("ngIf",n.getReturn()>0),a(),d("ngIf",n.getReturn()<0),a(2),v(O(19,14,C(25,y,n.getReturn()))))},dependencies:[Q,T,V,F,I,J,L,$,j,D,K,q,A,B],styles:["html[_ngcontent-%COMP%]{overflow:hidden;max-width:100vw;max-height:100vh}body[_ngcontent-%COMP%]{width:-webkit-fill-available;height:-webkit-fill-available}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:system-ui}div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{-webkit-user-select:none}.h-fill[_ngcontent-%COMP%]{height:-webkit-fill-available!important}.w-fill[_ngcontent-%COMP%]{width:-webkit-fill-available!important}*[_ngcontent-%COMP%]:has( > input[_ngcontent-%COMP%]:focus)   label[_ngcontent-%COMP%]{font-weight:bolder}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{transition:all .2s ease-in-out}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 1 auto;padding:.5rem;border:0;border-bottom:1px solid silver;background-color:#fff;color:#000}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-style:italic}*[_ngcontent-%COMP%]:has( > label[_ngcontent-%COMP%],  > input[_ngcontent-%COMP%],  > select)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{transition:all 1s ease;outline:1px solid silver;animation:_ngcontent-%COMP%_bg-blink 1.5s ease infinite}@keyframes _ngcontent-%COMP%_bg-blink{0%{outline-color:#0000}50%{outline-color:silver}to{outline-color:#0000}}button[_ngcontent-%COMP%]{padding:.5rem;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]{background-color:#7a858d}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#000;color:#fff}*[_ngcontent-%COMP%]:has( > input[type=radio][_ngcontent-%COMP%],  > input[type=checkbox])[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-webkit-fill-available;padding:.5rem;text-align:center;cursor:pointer;-webkit-user-select:auto;border:1px solid silver;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]{padding:.5rem;text-decoration:none;border-inline:1px solid gainsboro}a[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#dcdcdc}a[_ngcontent-%COMP%]:active, a.active[_ngcontent-%COMP%]{color:#fff;background-color:#000}.is-negative[_ngcontent-%COMP%]{color:#dc143c}.is-positive[_ngcontent-%COMP%]{color:green}*[_ngcontent-%COMP%]:has(input, select)[_ngcontent-%COMP%]{margin-bottom:0}.my-grid[_ngcontent-%COMP%]{align-items:baseline}.my-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:has(input, select)[_ngcontent-%COMP%]{margin-bottom:0}.my-grid[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{max-width:70px}.my-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem}.my-grid[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{text-align:end}"]});let r=s;return r})();export{ne as QuickComponent};
